include ./mixin_comment.pug

mixin answer(answerObject, isAdmin)
    li(class="answer list-group-item my-1" data-answer-id=answerObject._id)
        div(class="row py-1 rounded " + (answerObject.isApproved ? "bg-success" : ""))
            div(class="col-1")
                a(class="answerUpVoteBtn row btn-sm btn-outline-primary justify-content-center" href="#")
                    i(class="fa fa-2x fa-angle-up")
                    span(class="sr-only") up vote
                div(class="row justify-content-center")
                    span(class="answerVotes text-dark")= answerObject.votes
                a(class="answerDownVoteBtn row btn-sm btn-outline-primary justify-content-center" href="#")
                    i(class="fa fa-2x fa-angle-down")
                    span(class="sr-only") up vote
            span(class="answerText col")!= answerObject.answer
            div(class="col-sm-2 col-md-3 text-right")
                if answerObject.author.isAdmin
                    a(class="btn btn-primary-text-light m-1" href="#" disabled data-toggle="tooltip" data-placement="bottom" title="Answer by teacher")
                        i(class="fa fa fa-graduation-cap text-howest 2x" aria-hidden="true")
                a(class="commentButton btn btn-primary text-light m-1" href="#")
                    span(class="fa fa-comment" aria-hidden="true")
                    span(class="sr-only") comment
                if isAdmin
                    a(class="deleteAnswerBtn btn btn-secondary text-light m-1" href="#")
                        span(class="fa fa-trash" aria-hidden="true")
                        span(class="sr-only") delete answer
                    a(class="approveAnswerBtn btn btn-secondary text-light m-1" href="#")
                        span(class="fa fa-check" aria-hidden="true")
                        span(class="sr-only") approve answer
        each image in answerObject.images
            img(src=image class='img-fluid row')
        div(class="row text-center")
            div(class="col")
                a(class="col commentsVisibilityToggler text-primary" href="#")
                    i(class="fa fa-caret-down")
                    span(class="ml-2")
                        span(class="amountComments")=answerObject.comments.length
        ul(class="comments fa-ul mt-2" style="display:none")
            each comment in answerObject.comments
                +comment(comment)